<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>11&nbsp; Superposition and Standing Waves – Oscillations and Waves</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./11_math_toolkit.html" rel="next">
<link href="./09_sound_waves.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./10_superpositions.html"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Superposition and Standing Waves</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Oscillations and Waves</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/awmckinley1/oscandwaves" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Download" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="Download"><i class="bi bi-download"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="./Oscillations-and-Waves.pdf">
              <i class="bi bi-file-pdf pe-1"></i>
            Download PDF
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="./Oscillations-and-Waves.epub">
              <i class="bi bi-journal pe-1"></i>
            Download ePub
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="./Oscillations-and-Waves.docx">
              <i class="bi bi-file-word pe-1"></i>
            Download Docx
            </a>
          </li>
      </ul>
    </div>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01_shm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Simple Harmonic Motion</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02_damped_oscillations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Damped oscillations</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02a_forced_oscillations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Forced oscillations</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03_coupled_oscillators.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Coupled Oscillators</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04_pendulums.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Pendulums</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05_oscillators_to_wave_motion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">From Coupled Oscillators to Wave Motion</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06_simple_waves.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Simple wave motion and the Wave Equation</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07_harmonic_waves.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Harmonic Waves</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08_reflection_transmission.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Reflection and Transmission at boundaries</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09_sound_waves.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Sound waves and the Doppler effect</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10_superpositions.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Superposition and Standing Waves</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./11_math_toolkit.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Mathematical Toolkit</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./12_formulae_sheet.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Formulae for Oscillations and Waves</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#sec-ch10-superposharmonic1" id="toc-sec-ch10-superposharmonic1" class="nav-link active" data-scroll-target="#sec-ch10-superposharmonic1"><span class="header-section-number">11.1</span> Superposition of harmonic waves</a></li>
  <li><a href="#sec-ch10-identicalwaves1" id="toc-sec-ch10-identicalwaves1" class="nav-link" data-scroll-target="#sec-ch10-identicalwaves1"><span class="header-section-number">11.2</span> Two waves with same amplitude and frequency</a>
  <ul class="collapse">
  <li><a href="#sec-ch10-phasors1" id="toc-sec-ch10-phasors1" class="nav-link" data-scroll-target="#sec-ch10-phasors1"><span class="header-section-number">11.2.1</span> Phasors</a></li>
  </ul></li>
  <li><a href="#sec-ch10-differentwaves1" id="toc-sec-ch10-differentwaves1" class="nav-link" data-scroll-target="#sec-ch10-differentwaves1"><span class="header-section-number">11.3</span> Two waves, same amplitude, different frequency (Beats)</a></li>
  <li><a href="#sec-ch10-standingwaves1" id="toc-sec-ch10-standingwaves1" class="nav-link" data-scroll-target="#sec-ch10-standingwaves1"><span class="header-section-number">11.4</span> Standing waves</a></li>
  <li><a href="#sec-ch10-standingwaves2" id="toc-sec-ch10-standingwaves2" class="nav-link" data-scroll-target="#sec-ch10-standingwaves2"><span class="header-section-number">11.5</span> Wave function for a standing wave</a></li>
  <li><a href="#sec-ch10-fixedstring1" id="toc-sec-ch10-fixedstring1" class="nav-link" data-scroll-target="#sec-ch10-fixedstring1"><span class="header-section-number">11.6</span> Waves on strings fixed at both ends</a></li>
  <li><a href="#sec-ch10-pipesandwindinstruments" id="toc-sec-ch10-pipesandwindinstruments" class="nav-link" data-scroll-target="#sec-ch10-pipesandwindinstruments"><span class="header-section-number">11.7</span> Organ pipes and other wind instruments</a>
  <ul class="collapse">
  <li><a href="#pipes-open-at-both-ends" id="toc-pipes-open-at-both-ends" class="nav-link" data-scroll-target="#pipes-open-at-both-ends"><span class="header-section-number">11.7.1</span> Pipes open at both ends</a></li>
  <li><a href="#pipe-closed-at-one-end" id="toc-pipe-closed-at-one-end" class="nav-link" data-scroll-target="#pipe-closed-at-one-end"><span class="header-section-number">11.7.2</span> Pipe closed at one end</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-ch10-superposition" class="quarto-section-identifier"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Superposition and Standing Waves</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p><em>Textbook link: Tipler and Mosca, Section 15.1</em></p>
<section id="sec-ch10-superposharmonic1" class="level2" data-number="11.1">
<h2 data-number="11.1" class="anchored" data-anchor-id="sec-ch10-superposharmonic1"><span class="header-section-number">11.1</span> Superposition of harmonic waves</h2>
<p>In <a href="06_simple_waves.html#sec-ch6-wavepulses" class="quarto-xref"><span>Section 7.1</span></a>) we showed that the wave equation (<a href="06_simple_waves.html#eq-ch6-waveequation1" class="quarto-xref">Equation&nbsp;<span>7.3</span></a>) is satisfied by any function in the form <span class="math inline">\(y = f(x \pm vt)\)</span>. We can go further than this, and specify general expressions which can satisfy the wave equation.</p>
<p>Specifically, if we have two functions, <span class="math inline">\(y_1\)</span> and <span class="math inline">\(y_2\)</span> (<a href="#eq-ch10-superposition1" class="quarto-xref">Equation&nbsp;<span>11.1</span></a>), which satisfy the wave equation, then their sum (<a href="#eq-ch10-superposition2" class="quarto-xref">Equation&nbsp;<span>11.2</span></a>), including scaling constants <span class="math inline">\(C_1\)</span> and <span class="math inline">\(C_2\)</span>) must also satisfy the wave equation.</p>
<p><span id="eq-ch10-superposition1"><span class="math display">\[
\begin{array}{rcl}
y_1 &amp;=&amp; A_1 \sin\left[k_1(x \pm vt)\right] \\
y_2 &amp;=&amp; A_2 \sin\left[k_2(x \pm vt)\right] \\
\end{array}
\tag{11.1}\]</span></span></p>
<p><span id="eq-ch10-superposition2"><span class="math display">\[
y_3 = C_1 y_1 + C_2 y_2
\tag{11.2}\]</span></span></p>
<p>Using double angle formulae we can demonstrate that <span class="math inline">\(y_3\)</span> can also be written in the form <span class="math inline">\(y = f(x \pm vt)\)</span>, thus satisfying the wave equation.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> Therefore, the new wave <span class="math inline">\(y_3\)</span> is a linear superposition of the original waves <span class="math inline">\(y_1\)</span> and <span class="math inline">\(y_2\)</span>.</p>
<p>It is worth remembering that the wave equation was derived in the case of small amplitude disturbances; therefore if the vibration amplitudes become too large, the principle of superposition may fail. This can lead to some very interesting effects, including <strong>non-linear optics</strong><a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
</section>
<section id="sec-ch10-identicalwaves1" class="level2" data-number="11.2">
<h2 data-number="11.2" class="anchored" data-anchor-id="sec-ch10-identicalwaves1"><span class="header-section-number">11.2</span> Two waves with same amplitude and frequency</h2>
<p>Let’s now consider two waves with the same amplitude and frequency; but differing in phase (<a href="#eq-ch10-superposition3" class="quarto-xref">Equation&nbsp;<span>11.3</span></a>):</p>
<p><span id="eq-ch10-superposition3"><span class="math display">\[
\begin{array}{rcl}
y_1 &amp;=&amp; y_0 \sin (kx - \omega t) \\
y_2 &amp;=&amp; y_0 \sin (kx - \omega t +\delta ) \\
\end{array}
\tag{11.3}\]</span></span></p>
<p>If the two waves are superimposed, for example if they are travelling through the same medium, the resultant wavefunction is just the sum of <span class="math inline">\(y_1\)</span> and <span class="math inline">\(y_2\)</span> (<a href="#eq-ch10-superposition4" class="quarto-xref">Equation&nbsp;<span>11.4</span></a>):</p>
<p><span id="eq-ch10-superposition4"><span class="math display">\[
\begin{array}{rcl}
y &amp;=&amp; y_1 + y_2 \\
  &amp;=&amp; y_0 \sin (kx - \omega t) + y_0 \sin (kx - \omega t +\delta )
\end{array}
\tag{11.4}\]</span></span></p>
<p>In many situations it is mathematically simpler to use the complex exponential notation to treat waves and oscillations. However, in the case of a linear addition of two waves, it is simpler to just use trigonometric identities.</p>
<p>Here we will use the identity:</p>
<p><span class="math display">\[
\sin\theta_{1}+\sin\theta_{2} = 2\sin\left(\frac{\theta_{1}+\theta_{2}}{2}\right)\cos\left(\frac{\theta_{1}-\theta_{2}}{2}\right)
\]</span></p>
<p>… we obtain:</p>
<p><span id="eq-ch10-superposition5"><span class="math display">\[
y = 2y_{0}\sin\left(kx-\omega t + \frac{\delta}{2}\right)\cos\left(\frac{-\delta}{2}\right)
\tag{11.5}\]</span></span></p>
<p>As an aside, we can do the same thing with complex notation; we can write our wave superposition as follows:</p>
<p><span class="math display">\[
y = y_{1} + y_{2} =  y_{0}e^{i(kx - \omega t)} + y_{0}e^{i(kx - \omega t + \delta)}
\]</span></p>
<p>Remembering that we are interested in the ‘imaginary’ component at the end since we started with <span class="math inline">\(y_1\)</span> and <span class="math inline">\(y_2\)</span> as sine waves, we can write this superposition as:</p>
<p><span class="math display">\[
y = y_0 e^{i(kx-\omega t)}\left( 1 + \mathrm{e}^{\mathrm{i}\delta} \right)
\]</span></p>
<div class="cell" data-layout-align="center" data-auto_pdf="true">
<div class="cell-output-display">
<div id="fig-ch10-complexnumbers1" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ch10-complexnumbers1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="visualisations/ch10-complexnumbers1.svg" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ch10-complexnumbers1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11.1: We can illustrate addition of complex numbers on an Argand diagram; here we show the sum <span class="math inline">\(\left( 1 + \mathrm{e}^{\mathrm{i}\delta} \right)\)</span>; the result of this is the argument is halved from <span class="math inline">\(\delta\)</span> to <span class="math inline">\(\frac{\delta}{2}\)</span>.
</figcaption>
</figure>
</div>
</div>
</div>
<p>We can show using an Argand diagram (<a href="#fig-ch10-complexnumbers1" class="quarto-xref">Figure&nbsp;<span>11.1</span></a>) that the term <span class="math inline">\((1 + \mathrm{e}^{\mathrm{i}\delta})\)</span> is equal to <span class="math inline">\(2\cos \left(\frac{\delta}{2}\right)e^{i\frac{\delta}{2}}\)</span>, and hence:</p>
<p><span class="math display">\[
y = 2y_0 \cos(\delta/2) e^{i(kx-\omega t + \delta/2)}
\]</span></p>
<p>When we expand this expression using De Moivre’s theorem, we obtain the same result as in <a href="#eq-ch10-superposition5" class="quarto-xref">Equation&nbsp;<span>11.5</span></a>:</p>
<p><span id="eq-ch10-superposition5b"><span class="math display">\[
y = \underbrace{2 y_0 \cos \left( \frac{\delta}{2} \right)}_{\textsf{New amplitude}} \underbrace{\sin \left( kx - \omega t + \frac{\delta}{2} \right)}_{\textsf{Travelling wave}}
\tag{11.6}\]</span></span></p>
<p>This tells us that the resulting wave has the same frequency as the component waves, but a different amplitude and phase. This new amplitude is given by the expression in <a href="#eq-ch10-superposition5c" class="quarto-xref">Equation&nbsp;<span>11.7</span></a>:</p>
<p><span id="eq-ch10-superposition5c"><span class="math display">\[
A_{\textsf{new}} = 2 y_0 \cos \left( \frac{\delta}{2} \right)
\tag{11.7}\]</span></span></p>
<p>There are three special cases to be aware of:</p>
<ol type="1">
<li>If <span class="math inline">\(\delta = 0\)</span>, the waves are exactly in phase and the waves add together (constructive interference), with amplitude <span class="math inline">\(A = 2 y_0\)</span>;</li>
<li>If <span class="math inline">\(\delta = \pi\)</span>, the waves are exactly out of phase and the waves subtract (destructive interference), and the amplitude <span class="math inline">\(A = 0\)</span>;</li>
<li>If <span class="math inline">\(\delta = \frac{2\pi}{3}\)</span>, the resultant wave has exactly the same amplitude as the input waves.</li>
</ol>
<p>All three of these cases can be derived by substituting the relevant value of <span class="math inline">\(\delta\)</span> into <a href="#eq-ch10-superposition5c" class="quarto-xref">Equation&nbsp;<span>11.7</span></a>).</p>
<section id="sec-ch10-phasors1" class="level3" data-number="11.2.1">
<h3 data-number="11.2.1" class="anchored" data-anchor-id="sec-ch10-phasors1"><span class="header-section-number">11.2.1</span> Phasors</h3>
<p>The process we have shown above is a specific case of using <em>phasors</em> to determine an amplitude of a superposition of waves. The general method for determining the superposition of a number of waves of the same frequency - regardless of amplitude or relative phase - is shown as follows.</p>
<p>For a series of waves (<a href="#eq-ch10-generalwaves1" class="quarto-xref">Equation&nbsp;<span>11.8</span></a>), each with its own amplitude <span class="math inline">\(A_n\)</span> and relative phase <span class="math inline">\(\delta_n\)</span>, we can determine a superposition by summing them together.</p>
<p><span id="eq-ch10-generalwaves1"><span class="math display">\[
\begin{cases}
y_1 = A_1 e^{i(kx - \omega t + \delta_1)} \\
y_2 = A_2 e^{i(kx - \omega t + \delta_2)} \\
y_3 = A_3 e^{i(kx - \omega t + \delta_3)} \\
\end{cases}
\tag{11.8}\]</span></span></p>
<p>The summation is straightforward:</p>
<p><span id="eq-ch10-generalwaves2"><span class="math display">\[
\begin{array}{rcl}
y_{\mathrm{total}} &amp;=&amp;  y_1 + y_2 + y_3 \\
&amp;=&amp; A_1 e^{i(kx - \omega t + \delta_1)} + A_2 e^{i(kx - \omega t + \delta_2)} + A_3 e^{i(kx - \omega t + \delta_3)}\\
&amp;=&amp; \left(A_1 e^{i\delta_1} + A_2 e^{i\delta_2} + A_3 e^{i\delta_3} \right) e^{i(kx - \omega t)}
\end{array}
\tag{11.9}\]</span></span></p>
<p>By taking out a common factor of <span class="math inline">\(e^{i(kx - \omega t)}\)</span> from the superposition, we have isolated the variable “wave component” (<span class="math inline">\(e^{i(kx - \omega t)}\)</span>) from the invariant (constant) component, (<span class="math inline">\(\left(A_1 e^{i\delta_1} + A_2 e^{i\delta_2} + A_3 e^{i\delta_3} \right)\)</span>). This ‘invariant’ component is the amplitude of the new superposition, and thus we have expressed our superposition as the original wave - with a ‘zero phase’ offset - and an amplitude.</p>
<p>As the new amplitude is a sum of complex numbers, we can visualise these on an Argand diagram (<a href="#fig-ch10-argand-phasors" class="quarto-xref">Figure&nbsp;<span>11.2</span></a>)</p>
<div class="cell" data-layout-align="center" data-auto_pdf="true">
<div class="cell-output-display">
<div id="fig-ch10-argand-phasors" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ch10-argand-phasors-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="visualisations/LaTeX/ch10-argand-phasors.svg" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ch10-argand-phasors-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11.2: The amplitude component of a wave superposition can be represented on an Argand diagram, where the total amplitude can be determined as the resultant of the sum of the complex amplitudes.
</figcaption>
</figure>
</div>
</div>
</div>
<p>This method will work for any values of <span class="math inline">\(\delta\)</span> and any amplitudes <span class="math inline">\(A\)</span>, provided the frequency <span class="math inline">\(\omega\)</span> and wavenumber <span class="math inline">\(k\)</span> of the superposed waves is constant.</p>
</section>
</section>
<section id="sec-ch10-differentwaves1" class="level2" data-number="11.3">
<h2 data-number="11.3" class="anchored" data-anchor-id="sec-ch10-differentwaves1"><span class="header-section-number">11.3</span> Two waves, same amplitude, different frequency (Beats)</h2>
<p>Let’s consider two waves with the same amplitude but differing in frequency (<em>i.e.</em> amplitude <span class="math inline">\(y_0\)</span> is common to both, each has independent frequency <span class="math inline">\(\omega_1\)</span> and <span class="math inline">\(\omega 2\)</span>). For convenience we will assume that the phase difference between the two is zero at time <span class="math inline">\(t=0\)</span>, and we will then consider their displacements at an arbitrary <span class="math inline">\(x\)</span> coordinate (<em>e.g.</em> <span class="math inline">\(x=0\)</span>).</p>
<p>Firstly, let’s lay out the mathematical description of each wave:</p>
<p><span id="eq-ch12-addtwowavebeats1"><span class="math display">\[
y_{1} = y_{0} \sin \omega_{1} t \quad \textsf{and} \quad y_{2} = y_{0} \sin \omega_{2} t
\tag{11.10}\]</span></span></p>
<p>We can now obtain an expression for the overall observed amplitude, <span class="math inline">\(y = y_1 + y_2\)</span>, and use the standard trigonometric identities<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a> to combine the two equations:</p>
<p><span id="eq-ch12-addtwowavebeats2"><span class="math display">\[
\begin{array}{rcl}
y &amp;=&amp; y_1 + y_2 \\
&amp;=&amp; y_{0} \sin \omega_{1} t +  y_{0} \sin \omega_{2} t \\
&amp;=&amp; 2y_{0}\cos\left(\dfrac{\omega_{1}-\omega_{2}}{2}t\right)\sin\left(\dfrac{\omega_{1}+\omega_{2}}{2}t\right)
\end{array}
\tag{11.11}\]</span></span></p>
<p>As an aside, we can achieve the same result by using complex exponentials where the sum of the two waves is given in <a href="#eq-ch12-addtwowavebeats1" class="quarto-xref">Equation&nbsp;<span>11.10</span></a>, where we are interested in the imaginary component since we started with sine waves:</p>
<p><span id="eq-ch12-addtwowavebeats3"><span class="math display">\[
y = y_0 \mathrm{e}^{\mathrm{i}\omega_1 t} + y_0\mathrm{e}^{\mathrm{i}\omega_2 t}
\tag{11.12}\]</span></span></p>
<p>These can be added on an Argand diagram to show the result in <a href="#eq-ch12-addtwowavebeats4" class="quarto-xref">Equation&nbsp;<span>11.13</span></a>:</p>
<p><span id="eq-ch12-addtwowavebeats4"><span class="math display">\[
y = y_0 r\mathrm{e}^{\mathrm{i}\theta}
\tag{11.13}\]</span></span></p>
<p>…where:</p>
<p><span class="math display">\[
r = 2 \cos\left(\frac{\omega_1t - \omega_2t}{2}\right) \quad \textsf{and} \quad \theta = \frac{\omega_1 t + \omega_2 t}{2}
\]</span></p>
<p>Our end result if we expand this complex representation is:</p>
<p><span class="math display">\[
y = 2 y_0 \cos \left( \frac{\omega_1t - \omega_2t}{2} \right) \mathrm{e}^{\mathrm{i}\left(\frac{\omega_1 t + \omega_2t}{2} \right)}
\]</span></p>
<p>As we said above, we are interested in the ‘imaginary’ (sine) component, and we end up with the same result as shown in <a href="#eq-ch12-addtwowavebeats2" class="quarto-xref">Equation&nbsp;<span>11.11</span></a>. We can simplify the expression as in <a href="#eq-ch12-addtwowavebeats5" class="quarto-xref">Equation&nbsp;<span>11.14</span></a>.</p>
<p><span id="eq-ch12-addtwowavebeats5"><span class="math display">\[
y = \underbrace{ 2y_{0} \cos \left( \frac{\Delta \omega}{2}t \right)}_{\textsf{slowly varying amplitude}} \underbrace{ \sin \omega_{av}t}_{\textsf{wave with average frequency}}
\tag{11.14}\]</span></span></p>
<p>…where <span class="math inline">\(\Delta \omega = \omega_1 - \omega_2\)</span>.</p>
<p>The frequency fo the resulting wave is the average of the two input waves, while the amplitude oscillates with frequency <span class="math inline">\(\frac{\Delta \omega}{2}\)</span>. This is known as <strong>beating</strong>. The actual frequency of the beats themselves is twice this, as shown in <a href="#fig-ch12-oscillationbeats1" class="quarto-xref">Figure&nbsp;<span>11.3</span></a>.</p>
<div class="cell" data-layout-align="center" data-auto_pdf="true">
<div class="cell-output-display">
<div id="fig-ch12-oscillationbeats1" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ch12-oscillationbeats1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="visualisations/ch12-beats1.svg" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ch12-oscillationbeats1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11.3: As two waves interfere with each other (<span class="math inline">\(f_1 = 3.0\)</span> Hz; <span class="math inline">\(f_2 = 3.2\)</span> Hz), we see the interference structure as a waveform of frequency 3.1 Hz with a slowly varying amplitude at frequency 0.1 Hz (the ‘envelope’). This visualises the ‘beats’ in the interference structure.
</figcaption>
</figure>
</div>
</div>
</div>
<p>Therefore, if the frequency of the slowly varying amplitude is <span class="math inline">\(\frac{\Delta \omega}{2}\)</span>, the observed frequency of the ‘beats’ will be twice this; <em>i.e.</em> the difference in frequency between the two sources.</p>
<p>Repeating the analysis above but with the full expressions for the two sine waves (<em>i.e.</em> <span class="math inline">\(y_n = y_0 \sin(kx - \omega t)\)</span>), we obtain the expression in <a href="#eq-ch12-addtwowavessine1" class="quarto-xref">Equation&nbsp;<span>11.15</span></a>:</p>
<p><span id="eq-ch12-addtwowavessine1"><span class="math display">\[
y= 2 y_{0} \cos \left (\frac{\Delta kx - \Delta\omega t}{2}\right) \cdot \sin(k_\textsf{av}x - \omega_\textsf{av}t )
\tag{11.15}\]</span></span></p>
<p>From <a href="#eq-ch12-addtwowavessine1" class="quarto-xref">Equation&nbsp;<span>11.15</span></a> we find there are two velocities to consider; the phase velocity of the “average” wave, and the phase velocity of the “envelope” (the waveform which describes the amplitude; see <a href="#fig-ch12-oscillationbeats1" class="quarto-xref">Figure&nbsp;<span>11.3</span></a>). These are laid out below:</p>
<p>The phase velocity of the “average” wave:</p>
<p><span class="math display">\[
v_{av} = \frac{\omega_{av}}{k_{av}}
\]</span></p>
<p>The phase velocity of the envelope:</p>
<p><span class="math display">\[
v_{env} = \frac{\Delta\omega}{\Delta k}
\]</span></p>
<p>In a <em>non-dispersive</em> medium (<em>i.e.</em> all frequencies travel with the same phase velocity), it can be shown that <span class="math inline">\(v_{\textsf{av}} = v_{\textsf{env}} = \frac{\omega_1}{k_1} = \frac{\omega_2}{k_2} =\)</span> the phase velocity of the medium.</p>
<p>However, in a dispersive medium, the velocities are not equal, <em>i.e.</em> <span class="math inline">\(v_{av} \neq v_{env}\)</span>, and the “envelope” propagates at a different speed to the individual components. We associate <span class="math inline">\(v_{env}\)</span> with the group velocity <span class="math inline">\(v_g\)</span> and in this case would be represented as:</p>
<p><span class="math display">\[
v_{g} = \frac{\Delta\omega}{\Delta k}
\]</span></p>
</section>
<section id="sec-ch10-standingwaves1" class="level2" data-number="11.4">
<h2 data-number="11.4" class="anchored" data-anchor-id="sec-ch10-standingwaves1"><span class="header-section-number">11.4</span> Standing waves</h2>
<p>A standing wave is a specific outcome which occurs when a wave is confined to space (for example on a piano string) and it reflects at the boundaries and travels back along its original path. This leads to waves travelling in both directions which combine by superposition. Only certain frequencies can exist in a standing wave, as the superposition leads to a stationary pattern called a <strong>standing wave</strong>.</p>
</section>
<section id="sec-ch10-standingwaves2" class="level2" data-number="11.5">
<h2 data-number="11.5" class="anchored" data-anchor-id="sec-ch10-standingwaves2"><span class="header-section-number">11.5</span> Wave function for a standing wave</h2>
<p>In order to fully consider a standing wave, we need to derive the form of its wavefunction. To do this, we consider two waves travelling in opposite directions along a string (<a href="#eq-ch10-standingwaves1" class="quarto-xref">Equation&nbsp;<span>11.16</span></a>). Because one is a reflection of the other (they each reflect from the boundaries), they will have the same frequency and phase.</p>
<p><span id="eq-ch10-standingwaves1"><span class="math display">\[
\begin{array}{rcl}
y_1 &amp;=&amp; y_0 \sin (kx - \omega t) \\
y_2 &amp;=&amp; y_0 \sin (kx + \omega t) \\
\end{array}
\tag{11.16}\]</span></span></p>
<p>The resultant vertical displacement of the string is then the sum of these two waves (<a href="#eq-ch10-standingwaves2" class="quarto-xref">Equation&nbsp;<span>11.17</span></a>):</p>
<p><span id="eq-ch10-standingwaves2"><span class="math display">\[
\begin{array}{rcl}
y &amp;=&amp; y_1 + y_2 \\
y &amp;=&amp; y_0 \sin (kx - \omega t) + y_0 \sin (kx + \omega t) \\
\end{array}
\tag{11.17}\]</span></span></p>
<p>We can add these directly using a trigonometric identify or we can work in the complex notation:</p>
<p><span id="eq-ch10-standingwaves3"><span class="math display">\[
\begin{array}{rcl}
y &amp;=&amp; y_0 \sin (kx - \omega t) + y_0 \sin (kx + \omega t) \\
&amp;=&amp; y_0 \mathrm{e}^{\mathrm{i}(kx - \omega t)} + y_0 \mathrm{e}^{\mathrm{i}(kx + \omega t)} \\
&amp;=&amp; y_0 \mathrm{e}^{\mathrm{i}kx} \left( \mathrm{e}^{-\mathrm{i}\omega t} + \mathrm{e}^{\mathrm{i}\omega t} \right)
\end{array}
\tag{11.18}\]</span></span></p>
<p>We can use either an Argand diagram or De Moivre’s theorem to show that the term <span class="math inline">\(\left( \mathrm{e}^{-\mathrm{i}\omega t}+ \mathrm{e}^{\mathrm{i}\omega t} \right) = 2 \cos \omega t\)</span>, and hence:</p>
<p><span class="math display">\[
y = 2 y_0 \cos \omega t \mathrm{e}^{\mathrm{i}kx}
\]</span></p>
<p>We can now expand the complex exponent using De Moivre’s theorem again and, remembering we are interested in the ‘imaginary’ component (as this contains the desired sine function), and we obtain the result in <a href="#eq-ch10-standingwaves4" class="quarto-xref">Equation&nbsp;<span>11.19</span></a>:</p>
<p><span id="eq-ch10-standingwaves4"><span class="math display">\[
y = \underbrace{2 y_0 \cos \omega t}_{\textsf{time-dependent amplitude}} \underbrace{\sin kx}_{\textsf{static wave}}
\tag{11.19}\]</span></span></p>
<p>This result describes a static wave, <span class="math inline">\(y = \sin kx\)</span> whose amplitude varies in time as <span class="math inline">\(A = 2 y_0 \cos \omega t\)</span>. Note that it is possible to obtain this result via a trigonometric identity also.</p>
<div class="cell" data-layout-align="center" data-auto_pdf="true">
<div class="cell-output-display">
<div id="fig-ch10-standingwave1" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ch10-standingwave1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="visualisations/ch10-standingwave-n5.gif" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ch10-standingwave1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11.4: A standing wave is the result of two waves equal in frequency and amplitude moving past each other. This forms a static wave whose amplitude varies in time, and has nodes (N) and antinodes (A) present in the waveform. Here we show the fifth harmonic; 5 antinodes and a wavelength <span class="math inline">\(\lambda = 2/5 = 0.8\)</span>.
</figcaption>
</figure>
</div>
</div>
</div>
<p>This standing wave is illustrated in <a href="#fig-ch10-standingwave1" class="quarto-xref">Figure&nbsp;<span>11.4</span></a>; but we notice that there are boundary conditions enforced; namely that the ends of the string are fixed at a constant, zero displacement; <em>i.e.</em>:</p>
<ul>
<li><span class="math inline">\(y = 0\)</span> at <span class="math inline">\(x = 0\)</span>, and:</li>
<li><span class="math inline">\(y = 0\)</span> at <span class="math inline">\(x = L\)</span> at all times <span class="math inline">\(t\)</span></li>
</ul>
<p>…where <span class="math inline">\(L\)</span> is the length of the string. From this we deduce that <span class="math inline">\(\sin kL = 0\)</span> and therefore there are a family of solutions for <span class="math inline">\(k\)</span> and <span class="math inline">\(\lambda\)</span>, known as harmonics.</p>
<ul>
<li>If <span class="math inline">\(\sin kL = 0\)</span>, then <span class="math inline">\(kL = 0, \pi, 2\pi, \dots\)</span>, or <span class="math inline">\(k_n L = n\pi\)</span></li>
<li>Additionally, <span class="math inline">\(\lambda_n = \frac{2\pi}{k_n} = \frac{2L}{n}\)</span> where <span class="math inline">\(n = 1, 2, 3, \dots\)</span></li>
</ul>
<p>In other words, the vibrational modes are <strong>quantised</strong> due to the boundary conditions.</p>
</section>
<section id="sec-ch10-fixedstring1" class="level2" data-number="11.6">
<h2 data-number="11.6" class="anchored" data-anchor-id="sec-ch10-fixedstring1"><span class="header-section-number">11.6</span> Waves on strings fixed at both ends</h2>
<p>We have described the mathematics of standing waves; let’s now apply this to a wave travelling on a string which is fixed at both ends. <a href="#fig-ch10-stringfundamental1" class="quarto-xref">Figure&nbsp;<span>11.5</span></a> illustrates the fundamental wavelength of the string, which corresponds to twice the length of the string.</p>
<div class="cell" data-layout-align="center" data-auto_pdf="true">
<div class="cell-output-display">
<div id="fig-ch10-stringfundamental1" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ch10-stringfundamental1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="visualisations/ch10-standingwave_stages-n1.svg" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ch10-stringfundamental1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11.5: The fundamental frequency, or first harmonic. This is one half-wavelength enclosed in the boundaries and has a single antinode.
</figcaption>
</figure>
</div>
</div>
</div>
<p>We can then visualise the harmonics within the standing wave on this fixed string in <a href="#fig-ch10-stringharmonics1" class="quarto-xref">Figure&nbsp;<span>11.6</span></a>:</p>
<div id="fig-ch10-stringharmonics1" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ch10-stringharmonics1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: flex-start;">
<embed src="visualisations/ch10-standingwave_stages-n2.pdf" class="img-fluid">
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ch10-stringharmonics1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11.6: The second, third, fourth and fifth harmonics of a standing wave on a string. Notice that the <span class="math inline">\(n\)</span>th harmonic has <span class="math inline">\(\frac{n}{2}\)</span> wavelengths contained in the space.
</figcaption>
</figure>
</div>
<!-- ```{r echo=FALSE, fig-ch10-stringharmonics1, out.width='70%', fig.show='hold', fig.align="center", auto_pdf=TRUE, fig.cap="The second, third, fourth and fifth harmonics of a standing wave on a string. Notice that the $n$th harmonic has $\\frac{n}{2}$ wavelengths contained in the space."} -->
<!-- #| label: fig-ch10-stringharmonics1 -->
<!-- #| fig-cap: "The second, third, fourth and fifth harmonics of a standing wave on a string. Notice that the $n$th harmonic has $\\frac{n}{2}$ wavelengths contained in the space." -->
<!-- #| fig-subcap: -->
<!-- #|  - "Second harmonic" -->
<!-- #|  - "Third harmonic" -->
<!-- #|  - "Fourth harmonic" -->
<!-- #|  - "Fifth harmonic" -->
<!-- knitr::include_graphics("visualisations/ch10-standingwave_stages-n2.svg",auto_pdf = getOption("knitr.graphics.auto_pdf", TRUE)) -->
<!-- knitr::include_graphics("visualisations/ch10-standingwave_stages-n3.svg",auto_pdf = getOption("knitr.graphics.auto_pdf", TRUE)) -->
<!-- knitr::include_graphics("visualisations/ch10-standingwave_stages-n4.svg",auto_pdf = getOption("knitr.graphics.auto_pdf", TRUE)) -->
<!-- knitr::include_graphics("visualisations/ch10-standingwave_stages-n5.svg",auto_pdf = getOption("knitr.graphics.auto_pdf", TRUE)) -->
<!-- ``` -->
<p>The modes of vibration (resonances) shown in <a href="#fig-ch10-stringharmonics1" class="quarto-xref">Figure&nbsp;<span>11.6</span></a> illustrate the occurrence of <strong>nodes</strong> (points which do not move) and <strong>antinodes</strong> (points with the maximum vibration amplitudes). Note also that the end-points of the string must be nodes as well, as these points are fixed.</p>
<p>In general, the <span class="math inline">\(n\)</span>th harmonic will have <span class="math inline">\(\frac{1}{n} \times\)</span> wavelength and <span class="math inline">\(n \times\)</span> the frequency of the fundamental vibration shown in <a href="#fig-ch10-stringfundamental1" class="quarto-xref">Figure&nbsp;<span>11.5</span></a>.</p>
<div id="tbl-ch10-standingfrequencies" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-ch10-standingfrequencies-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;11.1: Showing the variation of wavelength and frequency of each harmonic with respect to the first (fundamental) wave.
</figcaption>
<div aria-describedby="tbl-ch10-standingfrequencies-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: left;">Harmonic</th>
<th style="text-align: left;"><span class="math inline">\(\lambda\)</span></th>
<th style="text-align: left;"><span class="math inline">\(f\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Fundamental, first</td>
<td style="text-align: left;"><span class="math inline">\(2L\)</span></td>
<td style="text-align: left;"><span class="math inline">\(f_1\)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;">Second</td>
<td style="text-align: left;"><span class="math inline">\(L\)</span></td>
<td style="text-align: left;"><span class="math inline">\(2f_1\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Third</td>
<td style="text-align: left;"><span class="math inline">\(\frac{2L}{3}\)</span></td>
<td style="text-align: left;"><span class="math inline">\(3f_1\)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;">Fourth</td>
<td style="text-align: left;"><span class="math inline">\(\frac{L}{2}\)</span></td>
<td style="text-align: left;"><span class="math inline">\(4f_1\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Fifth</td>
<td style="text-align: left;"><span class="math inline">\(\frac{2L}{5}\)</span></td>
<td style="text-align: left;"><span class="math inline">\(5f_1\)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(n\)</span>th</td>
<td style="text-align: left;"><span class="math inline">\(\frac{2L}{n}\)</span></td>
<td style="text-align: left;"><span class="math inline">\(nf_1\)</span></td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>In general, for the <span class="math inline">\(n\)</span>th harmonic:</p>
<ul>
<li>Wavelength is given by <span class="math inline">\(\lambda_n = \frac{2L}{n}\)</span></li>
<li>Frequency is given by <span class="math inline">\(f = nf_1 = \frac{nv}{\lambda_1} = \frac{nv}{2L}\)</span></li>
</ul>
<p>…where <span class="math inline">\(v\)</span> is the phase velocity (the speed of propagation of the wave along the string).</p>
<p>The resonant frequencies, or harmonics, of the string are known as its natural frequencies. Any string will resonate with maximum amplitude when excited with these frequencies, and this set of harmonics are known as a harmonic series. The actual harmonics heard when the string is excited will depend on the manner of its excitation; <em>e.g.</em> a string plucked at its centre will <em>only</em> display the odd harmonics; <em>i.e.</em> those with an anti-node in the centre.</p>
<p>In stringed instruments (violin, piano, guitar etc.) the vibration of the string is amplified by a mechanical resonator; a soundboard in the case of the piano, or resonant cavities for a guitar or violin. These resonators must be carefully designed to resonate equally well over a wide range of frequencies.</p>
</section>
<section id="sec-ch10-pipesandwindinstruments" class="level2" data-number="11.7">
<h2 data-number="11.7" class="anchored" data-anchor-id="sec-ch10-pipesandwindinstruments"><span class="header-section-number">11.7</span> Organ pipes and other wind instruments</h2>
<p>In contrast to a vibrating string, wind instruments rely on a resonance within a column of air. We can model these pipes as a simple pipe, resonating at its natural frequencies when air is blown into (or across) an opening at one end. The resonant behaviour will differ depending on whether the other end of the pipe is open or closed. We will consider each of these cases in turn.</p>
<section id="pipes-open-at-both-ends" class="level3" data-number="11.7.1">
<h3 data-number="11.7.1" class="anchored" data-anchor-id="pipes-open-at-both-ends"><span class="header-section-number">11.7.1</span> Pipes open at both ends</h3>
<p>In this model, the column of air is able to vibrate at its ends, so we have a similar set of harmonics as for a string, but with displacement antinodes at its ends (the air can vibrate freely at the ends of the tube). There is a second set of nodes/antinodes corresponding to the pressure; these do not align with the displacement nodes/antinodes; rather a <strong>pressure node</strong> aligns with a <strong>displacement antinode</strong> and vice versa. (if an air molecule does not move, we have a displacement node, but it is continuously ‘squashed’ from both sides by the oscillating air molecules, so experiences the biggest pressure change).</p>
<div class="cell" data-layout-align="center" data-auto_pdf="true">
<div class="cell-output-display">
<div id="fig-ch10-waves-closedtube" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ch10-waves-closedtube-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="visualisations/ch10-longitudinal-standingwave-n6closed.gif" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ch10-waves-closedtube-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11.7: This image shows the node/antinode structure of a standing wave in a <strong>closed tube</strong>. Note the presence of a displacement node at either end where molecules are compressed against the end of the tube.
</figcaption>
</figure>
</div>
</div>
</div>
<p>We observe <strong>all</strong> harmonics in this system; there are no concerns about ‘position of plucking’ that there is for the string. The displacement of the air molecules extends a little beyond the ends of the tube, so the effective length is given by <span class="math inline">\(L_\textsf{eff} = L + \Delta L\)</span>, where <span class="math inline">\(\Delta L\)</span> is a small end correction. Therefore:</p>
<p><span class="math display">\[
\lambda_n = \frac{2L_\textsf{eff}}{n} \quad \textsf{and} \quad f_n = \frac{nv}{2L_\textsf{eff}}
\]</span></p>
</section>
<section id="pipe-closed-at-one-end" class="level3" data-number="11.7.2">
<h3 data-number="11.7.2" class="anchored" data-anchor-id="pipe-closed-at-one-end"><span class="header-section-number">11.7.2</span> Pipe closed at one end</h3>
<p>We now have a different situation with different boundary conditions:</p>
<ul>
<li>There must be a displacement node at the closed end</li>
<li>There must be a displacement antinode at the open end</li>
</ul>
<p>This now gives us a fundamental wavelength four times longer than the effective length of the tube (the shortest node-antinode separation is a quarter wavelength).</p>
<p>This means that we only observe the <strong>odd</strong> harmonics (the even harmonics would not allow the boundary conditions for this tube).</p>
<div class="cell" data-layout-align="center" data-auto_pdf="true">
<div class="cell-output-display">
<div id="fig-ch10-waves-opentube" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ch10-waves-opentube-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="visualisations/ch10-longitudinal-standingwave-n6open.gif" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ch10-waves-opentube-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11.8: For a tube open at one end, the standing waves now have a node at the closed end, and an antinode at the open end. This changes the available harmonics within the tube.
</figcaption>
</figure>
</div>
</div>
</div>
<p><span class="math display">\[
\lambda_n = \frac{4 L_\textsf{eff}}{n} \quad n = 1,3,5,\dots
\]</span></p>
<p><span class="math display">\[
f_n = \frac{nv}{4 L_\textsf{eff}} \quad n = 1,3,5,\dots
\]</span></p>


</section>
</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>When including scaling factors, this can become less than trivial, but can still be done.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Related to the non-linear response of the electromagnetic interactions with the medium, rather than light travelling in straight lines!<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>Here we use the sum-to-product identity <span class="math inline">\(\sin A + \sin B = 2\cos \left(\frac{A-B}{2}\right) \sin\left(\frac{A+B}{2}\right)\)</span><a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./09_sound_waves.html" class="pagination-link" aria-label="Sound waves and the Doppler effect">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Sound waves and the Doppler effect</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./11_math_toolkit.html" class="pagination-link" aria-label="Mathematical Toolkit">
        <span class="nav-page-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Mathematical Toolkit</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>